{"version":3,"file":"runtime.d.ts","names":["InteropZodOptional","InteropZodDefault","Runtime","LangGraphRuntime","PregelOptions","StreamMode","BaseMessage","BaseCallbackConfig","ResponseFormatUndefined","AgentBuiltInState","Record","IsOptionalZodObject","T","IsDefaultZodObject","WithMaybeContext","TContext","Omit","Partial","InternalAgentState","StructuredResponseType","IsOptionalType","ExtractNonUndefined","IsAllOptional","CreateAgentPregelOptions","CreateAgentPregelStreamOptions","InvokeConfiguration","ContextSchema","Pick","StreamConfiguration","TStreamMode","TSubgraphs","TEncoding"],"sources":["../../src/agents/runtime.d.ts"],"sourcesContent":["import type { InteropZodOptional } from \"@langchain/core/utils/types\";\nimport type { InteropZodDefault } from \"@langchain/core/utils/types\";\nimport type { Runtime as LangGraphRuntime, PregelOptions, StreamMode } from \"@langchain/langgraph\";\nimport type { BaseMessage } from \"@langchain/core/messages\";\nimport type { BaseCallbackConfig } from \"@langchain/core/callbacks/manager\";\nimport type { ResponseFormatUndefined } from \"./responses.js\";\n/**\n * Type for the agent's built-in state properties.\n */\nexport type AgentBuiltInState = {\n    /**\n     * Array of messages representing the conversation history.\n     *\n     * This includes all messages exchanged during the agent's execution:\n     * - Human messages: Input from the user\n     * - AI messages: Responses from the language model\n     * - Tool messages: Results from tool executions\n     * - System messages: System-level instructions or information\n     *\n     * Messages are accumulated throughout the agent's lifecycle and can be\n     * accessed or modified by middleware hooks during execution.\n     */\n    messages: BaseMessage[];\n    /**\n     * Structured response data returned by the agent when a `responseFormat` is configured.\n     *\n     * This property is only populated when you provide a `responseFormat` schema\n     * (as Zod or JSON schema) to the agent configuration. The agent will format\n     * its final output to match the specified schema and store it in this property.\n     *\n     * Note: The type is specified as `Record<string, unknown>` because TypeScript cannot\n     * infer the actual response format type in contexts like middleware, where the agent's\n     * generic type parameters are not accessible. You may need to cast this to your specific\n     * response type when accessing it.\n     */\n    structuredResponse?: Record<string, unknown>;\n};\n/**\n * Type helper to check if TContext is an optional Zod schema\n */\ntype IsOptionalZodObject<T> = T extends InteropZodOptional<any> ? true : false;\ntype IsDefaultZodObject<T> = T extends InteropZodDefault<any> ? true : false;\nexport type WithMaybeContext<TContext> = undefined extends TContext ? {\n    readonly context?: TContext;\n} : IsOptionalZodObject<TContext> extends true ? {\n    readonly context?: TContext;\n} : IsDefaultZodObject<TContext> extends true ? {\n    readonly context?: TContext;\n} : {\n    readonly context: TContext;\n};\n/**\n * Runtime information available to middleware (readonly).\n */\nexport type Runtime<TContext = unknown> = Partial<Omit<LangGraphRuntime<TContext>, \"context\" | \"configurable\">> & WithMaybeContext<TContext> & {\n    configurable?: {\n        thread_id?: string;\n        [key: string]: unknown;\n    };\n};\nexport type InternalAgentState<StructuredResponseType extends Record<string, unknown> | undefined = Record<string, unknown>> = {\n    messages: BaseMessage[];\n} & (StructuredResponseType extends ResponseFormatUndefined ? Record<string, never> : {\n    structuredResponse: StructuredResponseType;\n});\n/**\n * Helper type to check if a type is optional (includes undefined)\n */\ntype IsOptionalType<T> = undefined extends T ? true : false;\n/**\n * Extract non-undefined part of a union that includes undefined\n */\ntype ExtractNonUndefined<T> = T extends undefined ? never : T;\n/**\n * Helper type to check if all properties of a type are optional\n */\nexport type IsAllOptional<T> = undefined extends T ? true : IsOptionalType<T> extends true ? true : ExtractNonUndefined<T> extends Record<string, any> ? {} extends ExtractNonUndefined<T> ? true : false : IsOptionalType<T>;\n/**\n * Pregel options that are propagated to the agent\n */\ntype CreateAgentPregelOptions = \"configurable\" | \"durability\" | \"store\" | \"cache\" | \"signal\" | \"recursionLimit\" | \"maxConcurrency\" | \"timeout\" | \"callbacks\" | \"subgraphs\";\n/**\n * Pregel stream options that are propagated to the agent\n */\ntype CreateAgentPregelStreamOptions = \"encoding\" | \"streamMode\";\n/**\n * Decide whether provided configuration requires a context\n */\nexport type InvokeConfiguration<ContextSchema extends Record<string, any>> = \n/**\n * If the context schema is a default object, `context` can be optional\n */\nContextSchema extends InteropZodDefault<any> ? BaseCallbackConfig & Partial<Pick<PregelOptions<any, any, any>, CreateAgentPregelOptions>> & {\n    context?: Partial<ContextSchema>;\n} : IsAllOptional<ContextSchema> extends true ? BaseCallbackConfig & Partial<Pick<PregelOptions<any, any, any>, CreateAgentPregelOptions>> & {\n    context?: Partial<ContextSchema>;\n} : BaseCallbackConfig & Partial<Pick<PregelOptions<any, any, any>, CreateAgentPregelOptions>> & WithMaybeContext<ContextSchema>;\nexport type StreamConfiguration<ContextSchema extends Record<string, any>, TStreamMode extends StreamMode | StreamMode[] | undefined, TSubgraphs extends boolean, TEncoding extends \"text/event-stream\" | undefined> = \n/**\n * If the context schema is a default object, `context` can be optional\n */\nContextSchema extends InteropZodDefault<any> ? Partial<Pick<PregelOptions<any, any, any, TStreamMode, TSubgraphs, TEncoding>, CreateAgentPregelOptions | CreateAgentPregelStreamOptions>> & {\n    context?: Partial<ContextSchema>;\n} : IsAllOptional<ContextSchema> extends true ? Partial<Pick<PregelOptions<any, any, any, TStreamMode, TSubgraphs, TEncoding>, CreateAgentPregelOptions | CreateAgentPregelStreamOptions>> & {\n    context?: Partial<ContextSchema>;\n} : Partial<Pick<PregelOptions<any, any, any, TStreamMode, TSubgraphs, TEncoding>, CreateAgentPregelOptions | CreateAgentPregelStreamOptions>> & WithMaybeContext<ContextSchema>;\nexport {};\n//# sourceMappingURL=runtime.d.ts.map"],"mappings":"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"}